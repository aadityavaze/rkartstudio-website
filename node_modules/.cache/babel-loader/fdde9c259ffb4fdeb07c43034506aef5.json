{"ast":null,"code":"import _classCallCheck from\"/Users/vaze/Desktop/rkart/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vaze/Desktop/rkart/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/vaze/Desktop/rkart/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/vaze/Desktop/rkart/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";var omit=function omit(obj,omitKey){return Object.keys(obj).reduce(function(result,key){if(key!==omitKey){result[key]=obj[key];}return result;},{});};var overlayStyles={position:\"absolute\",filter:\"blur(1px)\",transition:\"opacity ease-in 1000ms\",clipPath:\"inset(0)\"};var ProgressiveImage=/*#__PURE__*/function(_Component){_inherits(ProgressiveImage,_Component);var _super=_createSuper(ProgressiveImage);function ProgressiveImage(props){var _this;_classCallCheck(this,ProgressiveImage);_this=_super.call(this,props);_this.state={highResImageLoaded:false};return _this;}_createClass(ProgressiveImage,[{key:\"render\",value:function render(){var _this2=this;var overlaySrc=this.props.overlaySrc;var highResImageLoaded=this.state.highResImageLoaded;var filteredProps=omit(this.props,\"overlaySrc\");return/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"img\",Object.assign({},filteredProps,{onLoad:function onLoad(){_this2.setState({highResImageLoaded:true});},ref:function ref(img){_this2.highResImage=img;},src:this.props.src})),/*#__PURE__*/React.createElement(\"img\",Object.assign({},filteredProps,{className:\"\".concat(this.props.className,\" \").concat(overlayStyles)},highResImageLoaded&&{style:{opacity:\"0\"}},{src:overlaySrc})));}}]);return ProgressiveImage;}(Component);export{ProgressiveImage as default};","map":{"version":3,"sources":["/Users/vaze/Desktop/rkart/website/src/components/ProgressiveImage.js"],"names":["React","Component","omit","obj","omitKey","Object","keys","reduce","result","key","overlayStyles","position","filter","transition","clipPath","ProgressiveImage","props","state","highResImageLoaded","overlaySrc","filteredProps","setState","img","highResImage","src","className","style","opacity"],"mappings":"glBACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,GAAD,CAAMC,OAAN,QACZC,CAAAA,MAAM,CAACC,IAAP,CAAYH,GAAZ,EAAiBI,MAAjB,CAAwB,SAACC,MAAD,CAASC,GAAT,CAAiB,CACxC,GAAIA,GAAG,GAAKL,OAAZ,CAAqB,CACpBI,MAAM,CAACC,GAAD,CAAN,CAAcN,GAAG,CAACM,GAAD,CAAjB,CACA,CACD,MAAOD,CAAAA,MAAP,CACA,CALD,CAKG,EALH,CADY,EAAb,CAQA,GAAME,CAAAA,aAAa,CAAG,CACrBC,QAAQ,CAAE,UADW,CAErBC,MAAM,CAAE,WAFa,CAGrBC,UAAU,CAAE,wBAHS,CAIrBC,QAAQ,CAAE,UAJW,CAAtB,C,GAOqBC,CAAAA,gB,oHACpB,0BAAYC,KAAZ,CAAmB,kDAClB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAAEC,kBAAkB,CAAE,KAAtB,CAAb,CAFkB,aAGlB,C,oEACQ,oBACAC,CAAAA,UADA,CACe,KAAKH,KADpB,CACAG,UADA,IAEAD,CAAAA,kBAFA,CAEuB,KAAKD,KAF5B,CAEAC,kBAFA,CAGR,GAAIE,CAAAA,aAAa,CAAGlB,IAAI,CAAC,KAAKc,KAAN,CAAa,YAAb,CAAxB,CACA,mBACC,6CACC,2CACKI,aADL,EAEC,MAAM,CAAE,iBAAM,CACb,MAAI,CAACC,QAAL,CAAc,CAAEH,kBAAkB,CAAE,IAAtB,CAAd,EACA,CAJF,CAKC,GAAG,CAAE,aAAAI,GAAG,CAAI,CACX,MAAI,CAACC,YAAL,CAAoBD,GAApB,CACA,CAPF,CAQC,GAAG,CAAE,KAAKN,KAAL,CAAWQ,GARjB,GADD,cAWC,2CACKJ,aADL,EAEC,SAAS,WAAK,KAAKJ,KAAL,CAAWS,SAAhB,aAA6Bf,aAA7B,CAFV,EAGKQ,kBAAkB,EAAI,CAAEQ,KAAK,CAAE,CAAEC,OAAO,CAAE,GAAX,CAAT,CAH3B,EAIC,GAAG,CAAER,UAJN,GAXD,CADD,CAoBG,C,8BA7ByClB,S,SAAzBc,gB","sourcesContent":["\nimport React, { Component } from \"react\";\nconst omit = (obj, omitKey) =>\n\tObject.keys(obj).reduce((result, key) => {\n\t\tif (key !== omitKey) {\n\t\t\tresult[key] = obj[key];\n\t\t}\n\t\treturn result;\n\t}, {});\n\nconst overlayStyles = {\n\tposition: \"absolute\",\n\tfilter: \"blur(1px)\",\n\ttransition: \"opacity ease-in 1000ms\",\n\tclipPath: \"inset(0)\"\n};\n\nexport default class ProgressiveImage extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { highResImageLoaded: false };\n\t}\n\trender() {\n\t\tconst { overlaySrc } = this.props;\n\t\tconst { highResImageLoaded } = this.state;\n\t\tlet filteredProps = omit(this.props, \"overlaySrc\");\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t<img\n\t\t\t\t\t{...filteredProps}\n\t\t\t\t\tonLoad={() => {\n\t\t\t\t\t\tthis.setState({ highResImageLoaded: true });\n\t\t\t\t\t}}\n\t\t\t\t\tref={img => {\n\t\t\t\t\t\tthis.highResImage = img;\n\t\t\t\t\t}}\n\t\t\t\t\tsrc={this.props.src}\n\t\t\t\t/>\n\t\t\t\t<img\n\t\t\t\t\t{...filteredProps}\n\t\t\t\t\tclassName={`${this.props.className} ${overlayStyles}`}\n\t\t\t\t\t{...highResImageLoaded && { style: { opacity: \"0\" } }}\n\t\t\t\t\tsrc={overlaySrc}\n\t\t\t\t/>\n\t\t\t</span>\n\t\t);\n    }\n}"]},"metadata":{},"sourceType":"module"}